# EDA e-commerce событий

Этот репозиторий содержит разведочный анализ (EDA) событий e‑commerce воронки: загрузка данных, предобработка, базовые описательные метрики и анализ конверсии по шагам, источникам и сегментам пользователей. 

## Данные

В ноутбуке `01_eda.ipynb` используется сырый лог событий, где каждая строка — действие пользователя на сайте (просмотр товара, добавление в корзину, заказ и т.п.). 
Основные сущности:

- `event_time` — время события  
- `event_type` — тип события (просмотр, добавление в корзину, покупка и др.)  
- `user_id` — идентификатор пользователя  
- объект события (товар/заказ/страница) и дополнительные атрибуты (цены, категории, источники трафика, устройства, гео и т.п., в зависимости от конкретного датасета). 

Ноутбук фокусируется на переводе этих сырых логов в удобный для аналитики и продуктовых решений формат.

## Предобработка данных

В блоке предобработки решаются задачи очистки и подготовки логов к построению воронок. 

Основные шаги:

- Загрузка данных из исходного файла и приведение типов (даты → `datetime`, категориальные признаки → `category`/`string`).  
- Очистка: удаление технических строк, некорректных временных меток, явных дубликатов событий, проверка пропусков в ключевых полях (`event_time`, `event_type`, `user_id`).  
- Создание вспомогательных признаков:
  - дата/час события, день недели, флаг выходного  
  - нормализованные названия шагов воронки (например, `view`, `cart`, `purchase`)  
  - вычисление стоимости события (доход по заказу). 

- Формирование пользовательских сессий:
  - сортировка событий по пользователю и времени  
  - при необходимости — разделение длинных цепочек на сессии по таймауту (например, 30 минут бездействия). 

Результат — таблица с очищенными событиями и понятными признаками, откуда можно строить воронки и агрегаты.

## Анализ воронки и конверсии

Ключевая часть ноутбука — анализ, как пользователи проходят по шагам воронки и где «теряются». 

Используемые метрики:

- **Основная воронка**: от первого посещения/просмотра товара до успешной покупки. Для каждого шага рассчитываются:
  - количество уникальных пользователей/сессий  
  - переходы между шагами  
  - конверсия шага \(k \rightarrow k+1\) и cumulative conversion от входа до покупки. 

- **Разрезы конверсии**:
  - по источнику трафика (канал/кампания)  
  - по устройствам или платформам  
  - по времени (дни, недели, часы дня). 

- **Денежные метрики**:
  - средний чек  
  - выручка по шагам и сегментам  
  - доля пользователей, принесших X% выручки.

Визуализации:

- барчарты / столбчатые диаграммы воронки  
- распределения событий по времени  
- сравнение конверсии между каналами, устройствами и сегментами.

## Выводы и рекомендации

На основе проведённого EDA можно сформулировать ряд типовых продуктовых и маркетинговых рекомендаций.

**1. Улучшение конверсии между шагами**

- Найти шаг с максимальными потерями (например, из просмотра в корзину или из корзины в заказ) и детализировать причины: качество карточек товара, UX корзины, прозрачность цены, наличие доставки/оплаты.   
- Для слабых шагов протестировать: упрощение формы заказа, сокращение числа обязательных полей, более заметные CTA‑кнопки, актуализация информации о наличии и сроках доставки. 

**2. Работа с каналами трафика**

- Сравнить конверсию и средний чек по каналам; отключить или оптимизировать каналы с высоким трафиком, но низкой конверсией и низким LTV.   
- Для эффективных каналов — увеличивать бюджеты и усиливать коммуникацию (ремаркетинг, персональные предложения). 

**3. Сегментация и персонализация**

- Разделить пользователей по новым/возвращающимся, по устройствам, по географии — и смотреть, где конверсия/чек выше или ниже среднего.  
- Для сегментов с низкой конверсией тестировать персональные триггерные кампании (email / push / баннеры с рекомендованными товарами). 

**4. Мониторинг и развитие аналитики**

- Закрепить расчёт воронок и ключевых метрик (conversion, AOV, revenue per user) в регулярном отчёте или дашборде. 
- На следующем шаге построить предиктивные модели: вероятность покупки для сессии, скоринг каналов, оптимизация промо и рекомендаций.

